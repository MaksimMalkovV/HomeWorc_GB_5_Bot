os.system('cls')
name1 = input("Введите имя 1 игрока: ")
name2 = input("Введите имя 2 игрока: ")

rand = random.randrange(1,3)
a = int(input("Количество конфет? "))
if rand == 1:
    print(f"Первый ход делает игрок {name1}")
else:
    print(f"Первый ход делает игрок {name2}")

 
while a>0:
    if a>28:
        pers_1 = int(input("Можешь взять не больше 28 конфет. Сколько ты взял? "))
        a-=pers_1
        if a > 28:
            pers_2 = int(input("Можешь взять не больше 28 конфет. Сколько ты взял? "))
            a-=pers_2
            if a<= 28:
                if rand == 1:
                    print(f"Осталось {a} шт. конфет, их забирает {name1}, а значит он ПОБЕДИЛ!!!")
                else:
                    print(f"Осталось {a} шт. конфет, их забирает {name2}, а значит он ПОБЕДИЛ!!!")
        else:
            if rand == 1:
                print(f"Осталось {a} шт. конфет, их забирает {name2}, а значит он ПОБЕДИЛ!!!")
            else:
                print(f"Осталось {a} шт. конфет, их забирает {name1}, а значит он ПОБЕДИЛ!!!")